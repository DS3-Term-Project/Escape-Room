<html>

<head>
    <meta charset="utf-8">
    <!-- Circles' head scripts [REQUIRED] -->
    <circles-start-scripts />

</head>

<body>
    <!-- this is used to create our enter UI that creates a 2D overlay to capture a user gesture for sound/mic access etc. -->
    <circles-start-ui />
    <!-- a-scene with 'circles-properties' component [REQUIRED] -->
    <a-scene circles_scene_properties background="color:black">

        <a-assets timeout="30000">
            <!-- Circles' built-in assets [REQUIRED] -->
            <circles-assets />

            <audio id="ding1" crossorigin="anonymous" preload="auto" src="assets/audio/ding1.mp3"></audio>
            <audio id="ding2" crossorigin="anonymous" preload="auto" src="assets/audio/ding2.mp3"></audio>
            <audio id="garage" crossorigin="anonymous" preload="auto" src="assets/audio/garagedoor2.mp3"></audio>

            <img id="wallTex" src="assets/textures/wall_tex.jpg" response-type="arraybuffer" crossorigin="anonymous"></img>
            <img id="floorTex2" src="assets/textures/floor_tex_2.jpg" response-type="arraybuffer" crossorigin="anonymous"></img>
            <img id="floorTex3" src="assets/textures/floor_tex_3.jpg" response-type="arraybuffer" crossorigin="anonymous"></img>

            <a-asset-item id="lem" src="assets/models/lem_obj.glb" response-type="arraybuffer"crossorigin="anonymous"></a-asset-item>
            <a-asset-item id="sewingMachine" src="assets/models/sewingMachine_obj.glb" response-type="arraybuffer"crossorigin="anonymous"></a-asset-item>
            <a-asset-item id="shelf" src="assets/models/shelf_obj.glb" response-type="arraybuffer"crossorigin="anonymous"></a-asset-item>
            <a-asset-item id="fileBox" src="assets/models/fileBox_obj.glb" response-type="arraybuffer"crossorigin="anonymous"></a-asset-item>
            <a-asset-item id="box" src="assets/models/box_obj.glb" response-type="arraybuffer"crossorigin="anonymous"></a-asset-item>

            <a-asset-item id="lightbulbSocket" src="assets/models/lightbulbSocket_obj.glb" response-type="arraybuffer"crossorigin="anonymous"></a-asset-item>
            <a-asset-item id="lightbulbYellow" src="assets/models/yellowLightbulb_obj.glb" response-type="arraybuffer"crossorigin="anonymous"></a-asset-item>
            <a-asset-item id="lightbulbRed" src="assets/models/redLightbulb_obj.glb" response-type="arraybuffer"crossorigin="anonymous"></a-asset-item>
            <a-asset-item id="lightbulbGreen" src="assets/models/greenLightbulb_obj.glb" response-type="arraybuffer"crossorigin="anonymous"></a-asset-item>
            <a-asset-item id="lightbulbBlue" src="assets/models/blueLightbulb_obj.glb" response-type="arraybuffer"crossorigin="anonymous"></a-asset-item>

        </a-assets>

        <!-- Circles' built-in manager and avatar [REQUIRED] -->
        <circles-manager-avatar />


        <!--
            *************************************
            ****** COLLECTION ROOM SECTION ******
            *************************************
        -->


        <a-entity position="17.5 0 10">

        <a-entity circles-checkpoint circles-spawnpoint position="-8 0 0"></a-entity>

        <a-entity class="ground" geometry="primitive: plane; width: 21; height: 42" material="src: #floorTex2; repeat: 8 8" position="-17.5 0.01 -10" rotation="-90 0 0" shadow="cast: false"></a-entity>
        <a-entity class="ceiling" geometry="primitive: plane; width: 21; height: 42" material="src: #floorTex2; repeat: 8 8" position="-17.5 5 -10" rotation="90 0 0" shadow="cast: false"></a-entity>

        <a-entity class="wall" geometry="primitive: plane; width: 26; height: 8" material="src: #wallTex; side: double" position="-7 3 -2" rotation="0 90 0" shadow="cast: false"></a-entity>
        <a-entity id="exit_door" geometry="primitive:plane; width:6; height:4;" material="color:#3a3739; side: double" position="-7.01 2 0" rotation="0 90 0"></a-entity>

        <a-entity class="wall" geometry="primitive: plane; width: 21; height: 8" material="src: #wallTex" position="-17.5 3 11" rotation="0 180 0" shadow="cast: false"></a-entity>
        <a-entity class="wall" geometry="primitive: plane; width: 21; height: 8" material="src: #wallTex" position="-17.5 3 -29" rotation="" shadow="cast: false"></a-entity>
        <a-entity class="wall" geometry="primitive: plane; width: 42; height: 8" material="src: #wallTex" position="-28 3 -10" rotation="0 90 0" shadow="cast: false"></a-entity>
        <a-entity class="wall" geometry="primitive: plane; width: 10; height: 8" material="src: #wallTex; side: double" position="-7 3 -26" rotation="0 -90 0" shadow="cast: false"></a-entity>
        <a-entity class="wall" geometry="primitive:plane; width:6; height:4;" material="src:#wallTex; side:double;" position="-6.99 6 -18" rotation="0 -90 0" shadow="cast:false; receive:true;"></a-entity>

        <a-entity class="column" position="-17.5 0 -10">
            <a-entity class="wall" geometry="primitive: plane; width: 2; height: 8" material="src: #wallTex" position="0 3 -1" rotation="0 180 0" shadow="cast: false"></a-entity>
            <a-entity class="wall" geometry="primitive: plane; width: 2; height: 8" material="src: #wallTex" position="0 3 1" rotation="0 0 0" shadow="cast: false"></a-entity>
            <a-entity class="wall" geometry="primitive: plane; width: 2; height: 8" material="src: #wallTex" position="1 3 0" rotation="0 90 0" shadow="cast: false"></a-entity>
            <a-entity class="wall" geometry="primitive: plane; width: 2; height: 8" material="src: #wallTex" position="-1 3 0" rotation="0 -90 0" shadow="cast: false"></a-entity>
        </a-entity>

        <a-entity class="column" position="-17.5 0 4">
            <a-entity class="wall" geometry="primitive: plane; width: 2; height: 8" material="src: #wallTex" position="0 3 -1" rotation="0 180 0" shadow="cast: false"></a-entity>
            <a-entity class="wall" geometry="primitive: plane; width: 2; height: 8" material="src: #wallTex" position="0 3 1" rotation="" shadow="cast: false"></a-entity>
            <a-entity class="wall" geometry="primitive: plane; width: 2; height: 8" material="src: #wallTex" position="1 3 0" rotation="0 90 0" shadow="cast: false"></a-entity>
            <a-entity class="wall" geometry="primitive: plane; width: 2; height: 8" material="src: #wallTex" position="-1 3 0" rotation="0 -90 0" shadow="cast: false"></a-entity>
        </a-entity>

        <a-entity class="column" position="-17.5 0 -22">
            <a-entity class="wall" geometry="primitive: plane; width: 2; height: 8" material="src: #wallTex" position="0 3 -1" rotation="0 180 0" shadow="cast: false"></a-entity>
            <a-entity class="wall" geometry="primitive: plane; width: 2; height: 8" material="src: #wallTex" position="0 3 1" rotation="" shadow="cast: false"></a-entity>
            <a-entity class="wall" geometry="primitive: plane; width: 2; height: 8" material="src: #wallTex" position="1 3 0" rotation="0 90 0" shadow="cast: false"></a-entity>
            <a-entity class="wall" geometry="primitive: plane; width: 2; height: 8" material="src: #wallTex" position="-1 3 0" rotation="0 -90 0" shadow="cast: false"></a-entity>
        </a-entity>

        <a-entity class="shelf_rail" geometry="primitive: plane; width: 21; height: 0.1" material="color: #3a3739" position="-17.5 0.02 4" rotation="-90 0 0"></a-entity>
        <a-entity class="shelf_rail" geometry="primitive: plane; width: 21; height: 0.1" material="color: #3a3739" position="-17.5 0.02 6" rotation="-90 0 0"></a-entity>
        <a-entity class="shelf_rail" geometry="primitive: plane; width: 21; height: 0.1" material="color: #3a3739" position="-17.5 0.02 8" rotation="-90 0 0"></a-entity>
        <a-entity class="shelf_rail" geometry="primitive: plane; width: 21; height: 0.1" material="color: #3a3739" position="-17.5 0.02 10" rotation="-90 0 0"></a-entity>
        <a-entity class="shelf_rail" geometry="primitive: plane; width: 21; height: 0.1" material="color: #3a3739" position="-17.5 0.02 -4" rotation="-90 0 0"></a-entity>
        <a-entity class="shelf_rail" geometry="primitive: plane; width: 21; height: 0.1" material="color: #3a3739" position="-17.5 0.02 -6" rotation="-90 0 0"></a-entity>
        <a-entity class="shelf_rail" geometry="primitive: plane; width: 21; height: 0.1" material="color: #3a3739" position="-17.5 0.02 -8" rotation="-90 0 0"></a-entity>
        <a-entity class="shelf_rail" geometry="primitive: plane; width: 21; height: 0.1" material="color: #3a3739" position="-17.5 0.02 -10" rotation="-90 0 0"></a-entity>
        <a-entity class="shelf_rail" geometry="primitive: plane; width: 21; height: 0.1" material="color: #3a3739" position="-17.5 0.02 -12" rotation="-90 0 0"></a-entity>
        <a-entity class="shelf_rail" geometry="primitive: plane; width: 21; height: 0.1" material="color: #3a3739" position="-17.5 0.02 -14" rotation="-90 0 0"></a-entity>
        <a-entity class="shelf_rail" geometry="primitive: plane; width: 21; height: 0.1" material="color: #3a3739" position="-17.5 0.02 -22" rotation="-90 0 0"></a-entity>
        <a-entity class="shelf_rail" geometry="primitive: plane; width: 21; height: 0.1" material="color: #3a3739" position="-17.5 0.02 -24" rotation="-90 0 0"></a-entity>
        <a-entity class="shelf_rail" geometry="primitive: plane; width: 21; height: 0.1" material="color: #3a3739" position="-17.5 0.02 -26" rotation="-90 0 0"></a-entity>
        <a-entity class="shelf_rail" geometry="primitive: plane; width: 21; height: 0.1" material="color: #3a3739" position="-17.5 0.02 -28" rotation="-90 0 0"></a-entity>


        <!-- LEFT SHELF ROW -->
        <a-entity class="collectionShelf" gltf-model="assets/models/shelf_obj.glb" position="-8 0 7" rotation="0 180 0" scale="30 30 30" shadow="receive: false"></a-entity>
        <!-- Move shelf 1 -->
        <a-entity circles-networked-basic class="collectionShelf" id="shelf_1" gltf-model="assets/models/shelf_obj.glb" position="-12.1 0 7" rotation="0 180 0" scale="30 30 30" shadow="receive: false">
          <!--<a-entity gltf-model="#fileBox" position="0 0 0" rotation="0 90 0" scale="0.17 0.17 0.17" shadow="cast:true; receive:false;"></a-entity>-->
          <a-entity gltf-model="assets/models/fileBox_obj.glb" position="-0.02217 0.00554 0.08466" rotation="" scale="0.17 0.17 0.17" shadow="receive: false"></a-entity>
          <a-entity gltf-model="assets/models/fileBox_obj.glb" position="-0.02217 0.00554 0.04835" rotation="" scale="0.17 0.17 0.17" shadow="receive: false"></a-entity>
          <a-entity gltf-model="assets/models/fileBox_obj.glb" position="-0.02217 0.00554 -0.03519" rotation="" scale="0.17 0.17 0.17" shadow="receive: false"></a-entity>
          <a-entity gltf-model="assets/models/fileBox_obj.glb" position="-0.02217 0.04136 -0.0085" rotation="" scale="0.17 0.17 0.17" shadow="receive: false"></a-entity>
          <a-entity gltf-model="assets/models/fileBox_obj.glb" position="-0.02217 0.08067 0.03851" rotation="" scale="0.17 0.17 0.17" shadow="receive: false"></a-entity>
          <!--<a-entity gltf-model="#box" position="0 0 0" rotation="0 0 0" scale="0.17 0.17 0.17" shadow="cast:true; receive:false;"></a-entity>-->
          <a-entity gltf-model="assets/models/box_obj.glb" position="-0.01551 0.00455 0" rotation="" scale="0.25 0.25 0.25" shadow="receive: false"></a-entity>
          <a-entity gltf-model="assets/models/box_obj.glb" position="-0.01551 0.00455 -0.08102" rotation="" scale="0.25 0.25 0.25" shadow="receive: false"></a-entity>
          <a-entity gltf-model="assets/models/box_obj.glb" position="-0.01551 0.04174 -0.09035" rotation="" scale="0.25 0.25 0.25" shadow="receive: false"></a-entity>
          <a-entity gltf-model="assets/models/box_obj.glb" position="-0.01551 0.04174 -0.037" rotation="" scale="0.25 0.25 0.25" shadow="receive: false"></a-entity>
          <a-entity gltf-model="assets/models/box_obj.glb" position="-0.01551 0.0811 -0.03054" rotation="" scale="0.25 0.25 0.25" shadow="receive: false"></a-entity>
        </a-entity>

        <a-entity class="collectionShelf" gltf-model="assets/models/shelf_obj.glb" position="-13.8 0 7" rotation="0 180 0" scale="30 30 30" shadow="receive: false"></a-entity>
        <a-entity class="collectionShelf" gltf-model="assets/models/shelf_obj.glb" position="-15.5 0 7" rotation="0 180 0" scale="30 30 30" shadow="receive: false"></a-entity>
        <a-entity class="collectionShelf" gltf-model="assets/models/shelf_obj.glb" position="-19.5 0 7" rotation="0 180 0" scale="30 30 30" shadow="receive: false"></a-entity>
        <!-- Move shelf 2 -->
        <a-entity circles-networked-basic class="collectionShelf" id="shelf_2" gltf-model="assets/models/shelf_obj.glb" position="-21.2 0 7" rotation="0 180 0" scale="30 30 30" shadow="receive: false"></a-entity>
        <a-entity class="collectionShelf" gltf-model="assets/models/shelf_obj.glb" position="-25.2 0 7" rotation="0 180 0" scale="30 30 30" shadow="receive: false"></a-entity>
        <a-entity class="collectionShelf" gltf-model="assets/models/shelf_obj.glb" position="-27 0 7" rotation="0 180 0" scale="30 30 30" shadow="receive: false"></a-entity>

        <!-- MIDDLE SHELF ROW -->
        <a-entity class="collectionShelf" position="-8 0 -9" gltf-model="assets/models/shelf_obj.glb" rotation="" scale="30 30 30" shadow="receive: false"></a-entity>
        <a-entity class="collectionShelf" position="-12.1 0 -9">
            <a-entity gltf-model="assets/models/shelf_obj.glb" position="0 0 3.25" rotation="" scale="30 30 30" shadow="receive: false"></a-entity>
            <a-entity gltf-model="assets/models/shelf_obj.glb" position="0 0 -3.25" rotation="0 180 0" scale="30 30 30" shadow="receive: false"></a-entity>
        </a-entity>
        <a-entity class="collectionShelf" position="-13.8 0 -9">
            <a-entity gltf-model="assets/models/shelf_obj.glb" position="0 0 3.25" rotation="" scale="30 30 30" shadow="receive: false"></a-entity>
            <a-entity gltf-model="assets/models/shelf_obj.glb" position="0 0 -3.25" rotation="0 180 0" scale="30 30 30" shadow="receive: false"></a-entity>
        </a-entity>
        <a-entity class="collectionShelf" position="-15.5 0 -9">
            <a-entity gltf-model="assets/models/shelf_obj.glb" position="0 0 3.25" rotation="" scale="30 30 30" shadow="receive: false"></a-entity>
            <a-entity gltf-model="assets/models/shelf_obj.glb" position="0 0 -3.25" rotation="0 180 0" scale="30 30 30" shadow="receive: false"></a-entity>
        </a-entity>
        <a-entity class="collectionShelf" position="-19.5 0 -9">
            <a-entity gltf-model="assets/models/shelf_obj.glb" position="0 0 3.25" rotation="" scale="30 30 30" shadow="receive: false"></a-entity>
            <a-entity gltf-model="assets/models/shelf_obj.glb" position="0 0 -3.25" rotation="0 180 0" scale="30 30 30" shadow="receive: false"></a-entity>
        </a-entity>
        <a-entity class="collectionShelf" position="-21.2 0 -9">
            <a-entity gltf-model="assets/models/shelf_obj.glb" position="0 0 3.25" rotation="" scale="30 30 30" shadow="receive: false"></a-entity>
            <a-entity gltf-model="assets/models/shelf_obj.glb" position="0 0 -3.25" rotation="0 180 0" scale="30 30 30" shadow="receive: false"></a-entity>
        </a-entity>
        <a-entity class="collectionShelf" position="-25.2 0 -9">
            <a-entity gltf-model="assets/models/shelf_obj.glb" position="0 0 3.25" rotation="" scale="30 30 30" shadow="receive: false"></a-entity>
            <a-entity gltf-model="assets/models/shelf_obj.glb" position="0 0 -3.25" rotation="0 180 0" scale="30 30 30" shadow="receive: false"></a-entity>
        </a-entity>
        <a-entity class="collectionShelf" position="-27 0 -9">
            <a-entity gltf-model="assets/models/shelf_obj.glb" position="0 0 3.25" rotation="" scale="30 30 30" shadow="receive: false"></a-entity>
            <a-entity gltf-model="assets/models/shelf_obj.glb" position="0 0 -3.25" rotation="0 180 0" scale="30 30 30" shadow="receive: false"></a-entity>
        </a-entity>

        <!-- RIGHT SHELF ROW -->

        <a-entity class="collectionShelf" position="-8 0 -25" gltf-model="assets/models/shelf_obj.glb" rotation="" scale="30 30 30" shadow="receive: false"></a-entity>
        <!-- Move shelf 4 -->
        <a-entity circles-networked-basic class="collectionShelf" id="shelf_4" position="-12.1 0 -25" gltf-model="assets/models/shelf_obj.glb" rotation="" scale="30 30 30" shadow="receive: false"></a-entity>
        <a-entity class="collectionShelf" position="-13.8 0 -25" gltf-model="assets/models/shelf_obj.glb" rotation="" scale="30 30 30" shadow="receive: false"></a-entity>
        <a-entity class="collectionShelf" position="-15.5 0 -25" gltf-model="assets/models/shelf_obj.glb" rotation="" scale="30 30 30" shadow="receive: false"></a-entity>
        <a-entity class="collectionShelf" position="-19.5 0 -25" gltf-model="assets/models/shelf_obj.glb" rotation="" scale="30 30 30" shadow="receive: false"></a-entity>
        <!-- Move shelf 3 -->
        <a-entity circles-networked-basic class="collectionShelf" id="shelf_3" position="-21.2 0 -25" gltf-model="assets/models/shelf_obj.glb" rotation="" scale="30 30 30" shadow="receive: false"></a-entity>
        <a-entity class="collectionShelf" position="-25.2 0 -25" gltf-model="assets/models/shelf_obj.glb" rotation="" scale="30 30 30" shadow="receive: false"></a-entity>
        <a-entity class="collectionShelf" position="-27 0 -25" gltf-model="assets/models/shelf_obj.glb" rotation="" scale="30 30 30" shadow="receive: false"></a-entity>

        <!-- CLUTTER -->

        <a-entity gltf-model="#lem" position="-17.5 0 -10" rotation="0 0 0" scale="5 5 5" shadow="cast:true; receive:false;"></a-entity>
        <a-entity gltf-model="#sewingMachine" position="-17.5 0 -12" rotation="0 0 0" scale="5 5 5" shadow="cast:true; receive:false;"></a-entity>
        <a-entity gltf-model="#fileBox" position="-17.5 0 -16" rotation="0 0 0" scale="5 5 5" shadow="cast:true; receive:false;"></a-entity>
        <a-entity gltf-model="#door" position="-17.5 0 -18" rotation="0 0 0" scale="2.5 2.5 2.5" shadow="cast:true; receive:false;"></a-entity>
        <a-entity gltf-model="#box" position="-17.5 0 -20" rotation="0 0 0" scale="5 5 5" shadow="cast:true; receive:false;"></a-entity>

        <a-entity gltf-model="#lightbulbSocket" position="-17.5 0 -8" rotation="0 0 0" scale="5 5 5" shadow="cast:true; receive:false;"></a-entity>
        <a-entity gltf-model="#lightbulbYellow" position="-17.5 0 -7" rotation="0 0 0" scale="5 5 5" shadow="cast:true; receive:false;"></a-entity>
        <a-entity gltf-model="#lightbulbRed" position="-17.5 0 -6" rotation="0 0 0" scale="5 5 5" shadow="cast:true; receive:false;"></a-entity>
        <a-entity gltf-model="#lightbulbGreen" position="-17.5 0 -5" rotation="0 0 0" scale="5 5 5" shadow="cast:true; receive:false;"></a-entity>
        <a-entity gltf-model="#lightbulbBlue" position="-17.5 0 -4" rotation="0 0 0" scale="5 5 5" shadow="cast:true; receive:false;"></a-entity>

        <a-entity id="exit_door-2" geometry="primitive: plane; width: 6; height: 4" material="color: #3a3739" position="-7 2 -18" rotation="0 -90 0"></a-entity>

        <!--
            ***********************
            ****** EXIT ROOM ******
            ***********************
        -->

        <a-entity class="ground" geometry="primitive: plane; width: 14; height: 14" material="src: #floorTex3" position="0 0.01 -21" rotation="-90 0 0" shadow="cast: false"></a-entity>
        <a-entity class="ceiling" geometry="primitive: plane; width: 14; height: 14" material="src: #floorTex2" position="0 5 -21" rotation="90 0 0" shadow="cast: false"></a-entity>

        <a-entity class="wall" geometry="primitive: plane; width: 14; height: 8" material="src: #wallTex" position="0 3 -28" rotation="" shadow="cast: false"></a-entity>
        <a-entity class="wall" geometry="primitive: plane; width: 14; height: 8" material="src: #wallTex" position="7 3 -21" rotation="0 -90 0" shadow="cast: false"></a-entity>
        <a-entity class="wall" geometry="primitive: plane; width: 14; height: 8" material="src: #wallTex" position="0 3 -14" rotation="0 180 0" shadow="cast: false"></a-entity>

        <a-entity id="Portal-Hub" position="0 2 -21" rotation="0 180 0"
            circles-portal="img_src:/global/assets/textures/equirectangular/PurpleBlue.jpg; title_text:Exit; link_url:/w/Escape_Hub"></a-entity>

        </a-entity>

        <!-- lights -->
        <a-entity light="type: ambient; color: white; intensity:2.5"></a-entity>

      <!-- Button Puzzle Container -->
      <a-entity id="buttonGrid" position="10.5 1.5 -3.6" rotation="0 270 0"> <!-- Reset rotation to align grid properly -->
        <!-- Individual Buttons arranged in 3x3 grid -->
        <a-entity id="puzzleButton_1" circles-button="pedastal_color:rgb(74, 87, 95);button_color:rgb(255, 0, 0);" position="-1 1 0"
                  rotation="90 0 0" scale="0.8 0.8 0.8"></a-entity>
        <a-entity id="puzzleButton_2" circles-button="pedastal_color:rgb(74, 87, 95);button_color:rgb(255, 0, 0);" position="0 1 0"
                  rotation="90 0 0" scale="0.8 0.8 0.8"></a-entity>
        <a-entity id="puzzleButton_3" circles-button="pedastal_color:rgb(74, 87, 95);button_color:rgb(255, 0, 0);" position="1 1 0"
                  rotation="90 0 0" scale="0.8 0.8 0.8"></a-entity>
        <a-entity id="puzzleButton_4" circles-button="pedastal_color:rgb(74, 87, 95);button_color:rgb(255, 0, 0);" position="-1 0 0"
                  rotation="90 0 0" scale="0.8 0.8 0.8"></a-entity>
        <a-entity id="puzzleButton_5" circles-button="pedastal_color:rgb(74, 87, 95);button_color:rgb(255, 0, 0);" position="0 0 0"
                  rotation="90 0 0" scale="0.8 0.8 0.8"></a-entity>
        <a-entity id="puzzleButton_6" circles-button="pedastal_color:rgb(74, 87, 95);button_color:rgb(255, 0, 0);" position="1 0 0"
                  rotation="90 0 0" scale="0.8 0.8 0.8"></a-entity>
        <a-entity id="puzzleButton_7" circles-button="pedastal_color:rgb(74, 87, 95);button_color:rgb(255, 0, 0);" position="-1 -1 0"
                  rotation="90 0 0" scale="0.8 0.8 0.8"></a-entity>
        <a-entity id="puzzleButton_8" circles-button="pedastal_color:rgb(74, 87, 95);button_color:rgb(255, 0, 0);" position="0 -1 0"
                  rotation="90 0 0" scale="0.8 0.8 0.8"></a-entity>
        <a-entity id="puzzleButton_9" circles-button="pedastal_color:rgb(74, 87, 95);button_color:rgb(255, 0, 0);" position="1 -1 0"
                  rotation="90 0 0" scale="0.8 0.8 0.8"></a-entity>
      </a-entity>

      <!-- Button Puzzle Hints (First and final hints) -->
      <a-image src="assets/textures/First.png" position="9.5 2 -2.3" rotation="0 180 -5" scale="0.8 1.2 0.8" material="" geometry=""></a-image>
      <a-image src="assets/textures/Fourth.png" position="7.5 2 20.99" rotation="0 180 5" scale="0.8 1.2 0.8" material="side: front" geometry=""></a-image>

      <!-- Shelf Puzzle -->
      <!-- Control Buttons -->
      <a-entity id="shelf_1_button" move-shelf="target: #shelf_1; distance: 2" circles-button="pedastal_color: rgb(74, 87, 95); button_color: rgb(255, 100, 255); button_color_hover: #782b78" position="0.5 1 13" rotation="90 180 0" scale="0.8 0.8 0.8"></a-entity>
      <a-entity id="shelf_2_button" move-shelf="target: #shelf_2; distance: -2" circles-button="pedastal_color: rgb(74, 87, 95); button_color: rgb(255, 100, 255); button_color_hover: #782b78" position="-0.5 1 13" rotation="90 180 0" scale="0.8 0.8 0.8"></a-entity>
      <a-entity id="shelf_3_button" move-shelf="target: #shelf_3; distance: -2" circles-button="pedastal_color: rgb(74, 87, 95); button_color: rgb(255, 100, 255); button_color_hover: #782b78" position="-0.5 1 -11" rotation="90 0 0" scale="0.8 0.8 0.8"></a-entity>
      <a-entity id="shelf_4_button" move-shelf="target: #shelf_4; distance: 2" circles-button="pedastal_color: rgb(74, 87, 95); button_color: rgb(255, 100, 255); button_color_hover: #782b78" position="0.5 1 -11" rotation="90 0 0" scale="0.8 0.8 0.8"></a-entity>
      <!-- Directional Instructions -->
      <a-image src="assets/textures/Directional.png" position="0 2 12.99" rotation="0 180 0" scale="1 0.5 1" material="side: front" geometry=""></a-image>
      <a-image src="assets/textures/Directional.png" position="0 2 -10.99" rotation="0 0 3" scale="1 0.5 1" material="side: front" geometry=""></a-image>
      <!-- Shelf Puzzle Riddles -->
      <a-image src="assets/textures/LRiddle.png" position="-10.49 2 -8.5" rotation="0 90 0" scale="3 2 1" material="side: front" geometry=""></a-image>
      <a-image src="assets/textures/RRiddle.png" position="-10.49 2 10.7" rotation="0 90 0" scale="3 3 1" material="side: front" geometry=""></a-image>
      <!-- Shelf Puzzle Symbols -->
      <a-image src="assets/textures/atom.png" position="5.5 2 -18.99" rotation="0 0 3" scale="" material="side: front" geometry=""></a-image>
      <a-image src="assets/textures/wateringCan.png" position="7.5 0.040 19.3" rotation="-90 180 3" scale="1 0.75 1" material="side: front" geometry=""></a-image>
      <a-image src="assets/textures/beehive.png" position="-3.6 2 20.99" rotation="0 180 0" scale="" material="side: front" geometry=""></a-image>
      <a-image src="assets/textures/dna.png" position="7.5 2 -18.99" rotation="0 0 30" scale="0.5 1 1" material="side: front" geometry=""></a-image>
      <a-image src="assets/textures/water.png" position="-3.6 2 -18.99" rotation="0 0 -17" scale="0.6 1 1" material="side: front" geometry=""></a-image>
      <a-image src="assets/textures/flask.png" position="-5.762 2 20.99" rotation="0 180 15" scale="1 1.25 1" material="side: front" geometry=""></a-image>
      <a-image src="assets/textures/gear.png" position="5.5 2 20.99" rotation="0 180 0" scale="" material="side: front" geometry=""></a-image>
      <a-image src="assets/textures/robot.png" position="-5.76203 2 -18.99" rotation="0 0 17" scale="" material="side: front" geometry=""></a-image>



    </a-scene>

    <!-- Circles' end scripts [REQUIRED] -->
    <circles-end-scripts />

    <script src="scripts/main.js"></script>

    <script>
      // A frame component for the buttons to store the object, direction, and whether the shelf is in motion
      AFRAME.registerComponent('move-shelf', {
        schema: {
          // Shelf entity
          target: {type: 'selector'},
          // Move distance and direction
          distance: {type: 'number', default: 2},
          // Whether the shelf is moving
          moving: {type: 'boolean', default: false},
          // Whether the correct symbol is visible
          state: {type: 'boolean', default: true}
        },

        // Add listener to the button
        init: function() {
          this.el.addEventListener('click', () => {
            // If in motion, do not try to move again (prevents button spam)
            if (this.data.moving) return;
            this.data.moving = true;

            // Calculate new position
            const currentPosition = this.data.target.getAttribute('position');
            const newPosition = currentPosition.x + this.data.distance;

            // Animate shelf
            this.data.target.setAttribute('animation', {
              // Ease the position
              property: 'position',
              // Only applies to X coord
              to: {x: newPosition, y: currentPosition.y, z: currentPosition.z},
              // 1.5 Second animation
              dur: 1500,
              easing: 'easeInOutQuad'
            });

            // Wait for animation to complete so people can't spam the button and break it
            this.data.target.addEventListener('animationcomplete', () => {
              // Invert direction
              this.data.distance *= -1;
              // Stop moving
              this.data.moving = false;
            }, {once: true});
          });
        }
      });
    </script>


</body>

</html>
